<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">BifroMQ StandardCluster | Apache BifroMQ (Incubating) - Open source MQTT Broker</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://bifromq.apache.org/blog/bifromq-standardcluster/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="BifroMQ StandardCluster | Apache BifroMQ (Incubating) - Open source MQTT Broker"><meta data-rh="true" name="description" content="Since the first release of BifroMQ, it has gained wide attention from the community. Among them, cluster capability has been highly anticipated and also one of the top priorities for the BifroMQ team. After three months of tireless efforts, we officially released the cluster version of BifroMQ, which we call the Standard Cluster. The Standard Cluster is the main cluster mode supported in the open source version of BifroMQ, where each node has full MQTT protocol capabilities under this mode. At the same time, HTTP API is also supported in this version"><meta data-rh="true" property="og:description" content="Since the first release of BifroMQ, it has gained wide attention from the community. Among them, cluster capability has been highly anticipated and also one of the top priorities for the BifroMQ team. After three months of tireless efforts, we officially released the cluster version of BifroMQ, which we call the Standard Cluster. The Standard Cluster is the main cluster mode supported in the open source version of BifroMQ, where each node has full MQTT protocol capabilities under this mode. At the same time, HTTP API is also supported in this version"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2023-10-24T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/popduke"><meta data-rh="true" property="article:tag" content="BifroMQ,Open Source,MQTT,Cluster"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://bifromq.apache.org/blog/bifromq-standardcluster/"><link data-rh="true" rel="alternate" href="https://bifromq.apache.org/blog/bifromq-standardcluster/" hreflang="en"><link data-rh="true" rel="alternate" href="https://bifromq.apache.org/blog/bifromq-standardcluster/" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://bifromq.apache.org/blog/bifromq-standardcluster","mainEntityOfPage":"https://bifromq.apache.org/blog/bifromq-standardcluster","url":"https://bifromq.apache.org/blog/bifromq-standardcluster","headline":"BifroMQ StandardCluster","name":"BifroMQ StandardCluster","description":"Since the first release of BifroMQ, it has gained wide attention from the community. Among them, cluster capability has been highly anticipated and also one of the top priorities for the BifroMQ team. After three months of tireless efforts, we officially released the cluster version of BifroMQ, which we call the Standard Cluster. The Standard Cluster is the main cluster mode supported in the open source version of BifroMQ, where each node has full MQTT protocol capabilities under this mode. At the same time, HTTP API is also supported in this version","datePublished":"2023-10-24T00:00:00.000Z","author":{"@type":"Person","name":"Yonny(Yu) Hao","url":"https://github.com/popduke","image":"https://github.com/popduke.png"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://bifromq.apache.org/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Apache BifroMQ (Incubating) - Open source MQTT Broker RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Apache BifroMQ (Incubating) - Open source MQTT Broker Atom Feed"><link rel="stylesheet" href="/assets/css/styles.d59d7d43.css">
<script src="/assets/js/runtime~main.8fd7550a.js" defer="defer"></script>
<script src="/assets/js/main.ea35dedc.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><link rel="preload" as="image" href="/img/logo_dark.svg"><link rel="preload" as="image" href="https://github.com/popduke.png"><link rel="preload" as="image" href="/assets/images/BifroMQ-StandardCluster-2b113e969e5221e21edecc3066e095f7.png"><link rel="preload" as="image" href="/assets/images/BifroMQ-Dist-SubCluster-b0cf7d6570b2aaef74275f799ebc3c24.png"><link rel="preload" as="image" href="/assets/images/BifroMQ-Inbox-SubCluster-090bd2a05007aa5b87bd2143430e52c2.png"><link rel="preload" as="image" href="/assets/images/BifroMQ-Inbox-LoadBasedSplitter-e07655f230338ef623d03737386be337.png"><link rel="preload" as="image" href="/assets/images/BifroMQ-API-Service-b5239853399fb4f76c1db7496a3ccc3c.png"><link rel="preload" as="image" href="/img/apache-incubator.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_i89U" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="BifroMQ Logo" class="bifromq-navbar-logo-class themedComponent_Vjnd themedComponent--light_U84m"><img src="/img/logo_dark.svg" alt="BifroMQ Logo" class="bifromq-navbar-logo-class themedComponent_Vjnd themedComponent--dark_rUwV"></div><b class="navbar__title text--truncate">Apache BifroMQ (Incubating)</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/get_started/intro/">Docs</a><a class="navbar__item navbar__link" href="/community/">Community</a><a class="navbar__item navbar__link" href="/docs/get_started/download/intro/">Download</a><a class="navbar__item navbar__link" href="/docs/get_started/faq/">FAQ</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/get_started/intro/">Next (Incubating)</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/get_started/intro/">Next (Incubating)</a></li><li><a class="dropdown__link" href="/docs/3.3.x/get_started/intro/">3.3.x</a></li><li><a class="dropdown__link" href="/docs/3.2.x/get_started/intro/">3.2.x</a></li><li><a class="dropdown__link" href="/docs/3.1.x/get_started/intro/">3.1.x</a></li><li><a class="dropdown__link" href="/docs/3.0.x/get_started/intro/">3.0.x</a></li><li><a class="dropdown__link" href="/docs/2.1.x/Readme/">2.1.x</a></li><li><a class="dropdown__link" href="/docs/2.0.0/Readme/">2.0.0</a></li><li><a class="dropdown__link" href="/docs/1.0.x/Readme/">1.0.x</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">ASF</a><ul class="dropdown__menu"><li><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Foundation</a></li><li><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="dropdown__link">License</a></li><li><a href="https://www.apache.org/events/current-event.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Events</a></li><li><a href="https://privacy.apache.org/policies/privacy-policy-public.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Privacy</a></li><li><a href="https://www.apache.org/security/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Security</a></li><li><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Sponsorship</a></li><li><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Thanks</a></li><li><a href="https://www.apache.org/foundation/policies/conduct.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Code of Conduct</a></li></ul></div><a href="https://github.com/apache/bifromq" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_Qfvn colorModeToggle_dRqa"><button class="clean-btn toggleButton_Cd52 toggleButtonDisabled_Ccrn" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_FbYG lightToggleIcon_LHsq"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_FbYG darkToggleIcon_ZU0_"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_FbYG systemToggleIcon_zbND"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_D2uM"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_AIMe"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_kS8Q thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_GlxL margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_oqRN">2024</h3><ul class="sidebarItemList_ubbF clean-list"><li class="sidebarItem_ofYI"><a class="sidebarItemLink_yHTc" href="/blog/bifromq-version-3/">BifroMQ 3.0.0 Beta: Enhanced Messaging with MQTT 5.0</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_oqRN">2023</h3><ul class="sidebarItemList_ubbF clean-list"><li class="sidebarItem_ofYI"><a class="sidebarItemLink_yHTc" href="/blog/bifromq-topic-subscription/">BifroMQ&#x27;s Topic Subscription Mechanism</a></li><li class="sidebarItem_ofYI"><a class="sidebarItemLink_yHTc" href="/blog/bifromq-high-availibility/">BifroMQ: Unveiling the Technology for Building Efficient and Available Clusters</a></li><li class="sidebarItem_ofYI"><a aria-current="page" class="sidebarItemLink_yHTc sidebarItemLinkActive_NffH" href="/blog/bifromq-standardcluster/">BifroMQ StandardCluster</a></li><li class="sidebarItem_ofYI"><a class="sidebarItemLink_yHTc" href="/blog/bifromq-tech-architecture/">BifroMQ Technical Architecture Overview</a></li><li class="sidebarItem_ofYI"><a class="sidebarItemLink_yHTc" href="/blog/AnyAuth and Integration with BifroMQ/">AnyAuth and Integration with BifroMQ</a></li><li class="sidebarItem_ofYI"><a class="sidebarItemLink_yHTc" href="/blog/news-bifromq-opensource/">BifroMQ officially open source : high-performance multi-tenant MQTT Broker</a></li></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class="title_fUv4">BifroMQ StandardCluster</h1><div class="container_gIJP margin-vert--md"><time datetime="2023-10-24T00:00:00.000Z">October 24, 2023</time> · <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_H3Zo"><div class="avatar margin-bottom--sm"><a href="https://github.com/popduke" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_C8hI" src="https://github.com/popduke.png" alt="Yonny(Yu) Hao"></a><div class="avatar__intro authorDetails_XdR6"><div class="avatar__name"><a href="https://github.com/popduke" target="_blank" rel="noopener noreferrer"><span class="authorName_bpr_">Yonny(Yu) Hao</span></a></div><div class="authorSocials_YkvV"></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><p>Since the first release of BifroMQ, it has gained wide attention from the community. Among them, cluster capability has been highly anticipated and also one of the top priorities for the BifroMQ team. After three months of tireless efforts, we officially released the cluster version of BifroMQ, which we call the <strong>Standard Cluster</strong>. The Standard Cluster is the main cluster mode supported in the open source version of BifroMQ, where each node has full MQTT protocol capabilities under this mode. At the same time, HTTP API is also supported in this version</p>
<h2 class="anchor anchorWithStickyNavbar_xHWk" id="tldr">TLDR:<a href="#tldr" class="hash-link" aria-label="Direct link to TLDR:" title="Direct link to TLDR:">​</a></h2>
<ul>
<li>Installation <a href="https://github.com/bifromqio/bifromq/releases/" target="_blank" rel="noopener noreferrer">package</a> and Deployment <a href="/docs/cluster/standardcluster/">instructions</a></li>
</ul>
<ul>
<li>API <a href="/docs/user_guide/api/intro/">documentation</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_xHWk" id="overall-structure-of-the-standard-cluster">Overall Structure of the Standard Cluster<a href="#overall-structure-of-the-standard-cluster" class="hash-link" aria-label="Direct link to Overall Structure of the Standard Cluster" title="Direct link to Overall Structure of the Standard Cluster">​</a></h2>
<p>In a previous architecture overview <a href="/blog/bifromq-tech-architecture/">article</a>, we mentioned that BifroMQ logically divides MQTT functionalities into several sub-services, each corresponding to a critical workload:</p>
<ul>
<li>bifromq-mqtt: Responsible for MQTT protocol connection workloads.</li>
<li>bifromq-dist: Manages subscription and message routing distribution workloads.</li>
<li>bifromq-inbox: Handles offline message queues within persistent sessions.</li>
<li>bifromq-retain: Manages the storage and retrieval of Retain messages.</li>
</ul>
<p>From a deployment perspective, BifroMQ StandardCluster encapsulates these independent workload service modules into a cluster mode within a single node service process, and logically, this can be seen as an abstraction of the Standalone operating mode (BifroMQ Standalone can be considered as a single-node version of BifroMQ StandardCluster). Unlike other MQTT Brokers that support clustering, BifroMQ incorporates built-in distributed persistence functionality, making each individual BifroMQ node &quot;stateful.&quot;</p>
<img src="/assets/images/BifroMQ-StandardCluster-2b113e969e5221e21edecc3066e095f7.png" style="width:700px">
<p><em>Note: In all illustrations in this article, the text within brackets, &quot;bifromq-xxx,&quot; corresponds to the module names in the code.</em></p>
<h2 class="anchor anchorWithStickyNavbar_xHWk" id="horizontal-scaling-of-message-distribution-capability">Horizontal Scaling of Message Distribution Capability<a href="#horizontal-scaling-of-message-distribution-capability" class="hash-link" aria-label="Direct link to Horizontal Scaling of Message Distribution Capability" title="Direct link to Horizontal Scaling of Message Distribution Capability">​</a></h2>
<p>In the Standard Cluster mode, the Dist Service module within each node process forms a logically partitioned subset cluster of workloads (Dist-SubCluster). Dist Service stores subscription information in a built-in persistence engine and synchronizes routing information between nodes using the persistence engine&#x27;s distributed capabilities. In Standard Cluster mode, horizontal scaling of message distribution capability can be achieved by adding nodes, especially when CleanSession is set to True.</p>
<img src="/assets/images/BifroMQ-Dist-SubCluster-b0cf7d6570b2aaef74275f799ebc3c24.png" style="width:700px">
<h2 class="anchor anchorWithStickyNavbar_xHWk" id="persistence-scalability-and-high-reliability-of-offline-message-queues">Persistence, Scalability, and High Reliability of Offline Message Queues<a href="#persistence-scalability-and-high-reliability-of-offline-message-queues" class="hash-link" aria-label="Direct link to Persistence, Scalability, and High Reliability of Offline Message Queues" title="Direct link to Persistence, Scalability, and High Reliability of Offline Message Queues">​</a></h2>
<p>Similar to the Dist Service module, the Inbox Service module within node processes, responsible for offline message queues within MQTT persistent sessions, forms another logically partitioned subset cluster of workloads (Inbox-SubCluster). Inbox Service persists offline queue messages in the built-in storage engine, significantly reducing data loss due to node failures. In terms of storage, Inbox Service leverages the sharding capability of the built-in storage engine, allowing horizontal scaling of storage capacity and processing power. Additionally, by dynamically increasing the number of shard replicas through static configuration or runtime policies, the reliability of offline message data can be further enhanced, which is especially important for applications with higher data reliability requirements.</p>
<img src="/assets/images/BifroMQ-Inbox-SubCluster-090bd2a05007aa5b87bd2143430e52c2.png" style="width:700px">
<p><em>Note 1: Due to the significant impact of increasing shard replica count on message workloads when MQTT CleanSession is set to False, resource allocation must be determined based on actual needs, with the default replica count set to 1, which can be adjusted through the JVM startup parameter <code>inbox_store_range_voter_count</code>.</em></p>
<p><em>Note 2: The Inbox Service provides global access to offline message queues, allowing MQTT clients to access offline messages in their respective queues when reconnecting to any cluster node, eliminating the need for the common &quot;sticky session&quot; or &quot;session migration&quot; solutions often found in other MQTT Broker cluster implementations.</em></p>
<h2 class="anchor anchorWithStickyNavbar_xHWk" id="load-based-splitting-strategy-for-inbox-service">Load-Based Splitting Strategy for Inbox Service<a href="#load-based-splitting-strategy-for-inbox-service" class="hash-link" aria-label="Direct link to Load-Based Splitting Strategy for Inbox Service" title="Direct link to Load-Based Splitting Strategy for Inbox Service">​</a></h2>
<p>As previously mentioned, in a Standard Cluster deployment, the Inbox Service within a single node process utilizes the sharding capability of the built-in storage engine to achieve horizontal scaling of storage capacity and processing power. However, the sharding strategy has a decisive impact on actual performance. In BifroMQ Standard Cluster, we have incorporated an out-of-the-box load-based splitting strategy. This strategy determines the partitioning of KV Ranges based on load conditions over a recent period, serving as a &quot;posterior&quot; splitting strategy. When the usage scenario has already been planned and understood for the distribution of offline message workloads, pre-partitioning typically results in more stable performance when the workload arrives. For advanced BifroMQ users, prior splitting strategies can be implemented through the SPI mechanism.</p>
<img src="/assets/images/BifroMQ-Inbox-LoadBasedSplitter-e07655f230338ef623d03737386be337.png" style="width:400px">
<h2 class="anchor anchorWithStickyNavbar_xHWk" id="http-api-module">HTTP API Module<a href="#http-api-module" class="hash-link" aria-label="Direct link to HTTP API Module" title="Direct link to HTTP API Module">​</a></h2>
<p>BifroMQ StandardCluster introduces the HTTP API feature. Each cluster node can open an API access port through configuration. BifroMQ HTTP API is a stateless global interface designed to support the integration of management control logic at the business level. Accessing the API of any node allows operations on the entire cluster. For more details, please refer to <a href="/docs/user_guide/api/intro/">this link</a>.</p>
<img src="/assets/images/BifroMQ-API-Service-b5239853399fb4f76c1db7496a3ccc3c.png" style="width:700px">
<h2 class="anchor anchorWithStickyNavbar_xHWk" id="impact-of-mixed-workloads-on-performance">Impact of Mixed Workloads on Performance<a href="#impact-of-mixed-workloads-on-performance" class="hash-link" aria-label="Direct link to Impact of Mixed Workloads on Performance" title="Direct link to Impact of Mixed Workloads on Performance">​</a></h2>
<p>In a Standard Cluster deployment, a single node possesses complete MQTT protocol functionality, handling various types of workloads. Therefore, this mode is particularly suitable for two types of enterprise-level application scenarios:</p>
<ol>
<li>Workloads generated by the business are relatively uniform.</li>
<li>The business generates a diverse range of workloads, but they are relatively evenly distributed in time.
For cases where workloads are complex and generated centrally in terms of time, we recommend that users perform load testing to determine the optimal resource configuration and parameter settings for a single BifroMQ Standard Cluster cluster or consider using multiple BifroMQ Standard Clusters to handle different types of business workloads. Additionally, you can reach out to us for support with BifroMQ Independent-Workload Cluster in the BifroMQ commercial version.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_xHWk" id="deployment-and-operations">Deployment and Operations<a href="#deployment-and-operations" class="hash-link" aria-label="Direct link to Deployment and Operations" title="Direct link to Deployment and Operations">​</a></h2>
<p>In a previous BifroMQ technical architecture article, we mentioned that BifroMQ clusters are built on a decentralized technology (base-cluster), eliminating the need for external node registration and discovery services. As a result, the deployment process for building a BifroMQ Standard Cluster is straightforward (for detailed instructions, please refer to <a href="/docs/cluster/standardcluster/">this link</a>). It only requires designating any node in a cluster as a seed node to enable the addition of new nodes. Furthermore, BifroMQ includes self-healing capabilities in the event of cluster partitioning, greatly simplifying operational tasks during network partition and other failures.</p>
<h2 class="anchor anchorWithStickyNavbar_xHWk" id="future-outlook">Future Outlook<a href="#future-outlook" class="hash-link" aria-label="Direct link to Future Outlook" title="Direct link to Future Outlook">​</a></h2>
<p>The BifroMQ team adheres to a neutral technology philosophy, dedicated to the large-scale implementation of the MQTT protocol, as well as improving reliability and maintainability. We look forward to more community participation and in-depth user feedback to collectively advance this technology. Additionally, you can join the developer community by <a href="mailto:hello@bifromq.io" target="_blank" rel="noopener noreferrer">emailing</a> us your WeChat ID, along with more information on why BifroMQ has caught your attention (we&#x27;d love to hear about it), or by joining our Discord group via this <a href="https://discord.gg/Pfs3QRadRB" target="_blank" rel="noopener noreferrer">link</a>.</p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_gQKD padding--none margin-left--sm"><li class="tag_qoZE"><a rel="tag" class="tag_zDBo tagRegular_LZJj" href="/blog/tags/bifro-mq/">BifroMQ</a></li><li class="tag_qoZE"><a rel="tag" class="tag_zDBo tagRegular_LZJj" href="/blog/tags/open-source/">Open Source</a></li><li class="tag_qoZE"><a rel="tag" class="tag_zDBo tagRegular_LZJj" href="/blog/tags/mqtt/">MQTT</a></li><li class="tag_qoZE"><a rel="tag" class="tag_zDBo tagRegular_LZJj" href="/blog/tags/cluster/">Cluster</a></li></ul></div></div><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><a href="https://github.com/apache/bifromq-sites/tree/master/blog" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_JDwx" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_Blfy"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/bifromq-high-availibility/"><div class="pagination-nav__sublabel">Newer post</div><div class="pagination-nav__label">BifroMQ: Unveiling the Technology for Building Efficient and Available Clusters</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/bifromq-tech-architecture/"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">BifroMQ Technical Architecture Overview</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bFGz thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#tldr" class="table-of-contents__link toc-highlight">TLDR:</a></li><li><a href="#overall-structure-of-the-standard-cluster" class="table-of-contents__link toc-highlight">Overall Structure of the Standard Cluster</a></li><li><a href="#horizontal-scaling-of-message-distribution-capability" class="table-of-contents__link toc-highlight">Horizontal Scaling of Message Distribution Capability</a></li><li><a href="#persistence-scalability-and-high-reliability-of-offline-message-queues" class="table-of-contents__link toc-highlight">Persistence, Scalability, and High Reliability of Offline Message Queues</a></li><li><a href="#load-based-splitting-strategy-for-inbox-service" class="table-of-contents__link toc-highlight">Load-Based Splitting Strategy for Inbox Service</a></li><li><a href="#http-api-module" class="table-of-contents__link toc-highlight">HTTP API Module</a></li><li><a href="#impact-of-mixed-workloads-on-performance" class="table-of-contents__link toc-highlight">Impact of Mixed Workloads on Performance</a></li><li><a href="#deployment-and-operations" class="table-of-contents__link toc-highlight">Deployment and Operations</a></li><li><a href="#future-outlook" class="table-of-contents__link toc-highlight">Future Outlook</a></li></ul></div></div></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://incubator.apache.org/" rel="noopener noreferrer" class="footerLogoLink_xRga"><img src="/img/apache-incubator.svg" alt="Apache Incubator logo" class="footer__logo themedComponent_Vjnd themedComponent--light_U84m" width="200"><img src="/img/apache-incubator.svg" alt="Apache Incubator logo" class="footer__logo themedComponent_Vjnd themedComponent--dark_rUwV" width="200"></a></div><div class="footer__copyright"><div>
      <p>
        Apache BifroMQ is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.
      </p>
      <p>
        Copyright © 2025 The Apache Software Foundation, Licensed under the Apache License, Version 2.0. <br>
        Apache, the names of Apache projects, and the feather logo are either registered trademarks or trademarks of the Apache Software Foundation in the United States and/or other countries.
      </p>
      </div></div></div></div></footer></div>
</body>
</html>