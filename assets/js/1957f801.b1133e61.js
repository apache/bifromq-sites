"use strict";(globalThis.webpackChunkbifromq=globalThis.webpackChunkbifromq||[]).push([[6758],{35756(e,s,r){r.d(s,{R:()=>d,x:()=>c});var t=r(59471);const i={},n=t.createContext(i);function d(e){const s=t.useContext(n);return t.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),t.createElement(n.Provider,{value:s},e.children)}},57079(e,s,r){r.r(s),r.d(s,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>d,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"admin_guide/configuration/bifromq_sys_props","title":"System Properties","description":"Before adjusting system properties in BifroMQ, it\'s necessary to have a thorough understanding of its internal mechanisms, as inappropriate modifications can lead to unexpected behavior. Additionally, these system properties are closely","source":"@site/docs/admin_guide/configuration/bifromq_sys_props.md","sourceDirName":"admin_guide/configuration","slug":"/admin_guide/configuration/bifromq_sys_props","permalink":"/docs/admin_guide/configuration/bifromq_sys_props","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/bifromq-sites/tree/master/docs/admin_guide/configuration/bifromq_sys_props.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"System Properties"},"sidebar":"tutorialSidebar","previous":{"title":"Config File Manual","permalink":"/docs/admin_guide/configuration/config_file_manual"},"next":{"title":"Configuration Printing","permalink":"/docs/admin_guide/configuration/configs_print"}}');var i=r(62615),n=r(35756);const d={sidebar_position:2,title:"System Properties"},c=void 0,o={},l=[];function a(e){const s={code:"code",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.p,{children:["Before adjusting system properties in BifroMQ, it's necessary to have a thorough understanding of its internal mechanisms, as inappropriate modifications can lead to unexpected behavior. Additionally, these system properties are closely\nlinked with BifroMQ's internal implementation and may not be compatible across different versions. System properties can be set via JVM startup parameters, allowing for flexible customization of BifroMQ's behavior.\nFor example, setting ",(0,i.jsx)(s.code,{children:"-Dmqtt_utf8_sanity_check=false"})," disables the check for MQTT protocol-defined UTF8 string formats."]}),"\n",(0,i.jsx)(s.p,{children:"Below is a table listing the system properties supported by the current version:"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Property Key"}),(0,i.jsx)(s.th,{children:"Default Value"}),(0,i.jsx)(s.th,{children:"Description"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"client_redirect_check_interval_seconds"})}),(0,i.jsx)(s.td,{children:"600"}),(0,i.jsx)(s.td,{children:"The client redirection check interval in seconds."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"cluster_domain_resolve_timeout_seconds"})}),(0,i.jsx)(s.td,{children:"120L"}),(0,i.jsx)(s.td,{children:"Timeout for resolving the cluster domain to discover seed nodes."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"control_plane_burst_latency_ms"})}),(0,i.jsx)(s.td,{children:"5000L"}),(0,i.jsx)(s.td,{children:"The max latency in milliseconds tolerated for the control plane burst."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"data_plane_burst_latency_ms"})}),(0,i.jsx)(s.td,{children:"5000L"}),(0,i.jsx)(s.td,{children:"The max latency in milliseconds tolerated for the data plane burst."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"dist_server_dist_worker_call_queues"})}),(0,i.jsx)(s.td,{children:"CPU cores"}),(0,i.jsx)(s.td,{children:"Number of dist worker call queues."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"dist_worker_inline_fanout_threshold"})}),(0,i.jsx)(s.td,{children:"1000"}),(0,i.jsx)(s.td,{children:"The threshold of the fanout to be executed in the calling thread."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"dist_worker_fanout_parallelism"})}),(0,i.jsx)(s.td,{children:"Max(2, CPU cores / 8)"}),(0,i.jsx)(s.td,{children:"Parallelism level for fanout operations."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"dist_worker_cache_fanout_check_seconds"})}),(0,i.jsx)(s.td,{children:"5"}),(0,i.jsx)(s.td,{children:"Interval seconds for checking cached routes against fanout related settings."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"dist_worker_match_parallelism"})}),(0,i.jsx)(s.td,{children:"Max(2, CPU cores / 2)"}),(0,i.jsx)(s.td,{children:"Parallelism level for match operations."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"dist_worker_max_cached_subs_per_tenant"})}),(0,i.jsx)(s.td,{children:"200_000L"}),(0,i.jsx)(s.td,{children:"Maximum cached subscriptions per tenant."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"dist_worker_topic_match_expiry_seconds"})}),(0,i.jsx)(s.td,{children:"60"}),(0,i.jsx)(s.td,{children:"Expiry time in seconds for topic matches."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"inbox_check_queues_per_range"})}),(0,i.jsx)(s.td,{children:"1"}),(0,i.jsx)(s.td,{children:"Number of check queues per range."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"inbox_deliverers"})}),(0,i.jsx)(s.td,{children:"100"}),(0,i.jsx)(s.td,{children:"Number of inbox deliverers."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"inbox_fetch_queues_per_range"})}),(0,i.jsx)(s.td,{children:"Max(1, CPU cores / 4)"}),(0,i.jsx)(s.td,{children:"Number of fetch queues per range."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"inbox_meta_cache_expiry_second"})}),(0,i.jsx)(s.td,{children:"300"}),(0,i.jsx)(s.td,{children:"Timeout in seconds before cached inbox metadata expires."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"ingress_slowdown_direct_memory_usage"})}),(0,i.jsx)(s.td,{children:"0.8"}),(0,i.jsx)(s.td,{children:"Threshold for slowing down ingress traffic based on direct memory usage."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"ingress_slowdown_heap_memory_usage"})}),(0,i.jsx)(s.td,{children:"0.9"}),(0,i.jsx)(s.td,{children:"Threshold for slowing down ingress traffic based on heap memory usage."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"mqtt_utf8_sanity_check"})}),(0,i.jsx)(s.td,{children:"false"}),(0,i.jsx)(s.td,{children:"Enables/disables UTF8 sanity checks according to MQTT-1.5.3."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"max_mqtt3_client_id_length"})}),(0,i.jsx)(s.td,{children:"65535"}),(0,i.jsx)(s.td,{children:"Maximum client ID length for MQTT 3 clients."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"max_mqtt5_client_id_length"})}),(0,i.jsx)(s.td,{children:"65535"}),(0,i.jsx)(s.td,{children:"Maximum client ID length for MQTT 5 clients."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"max_slowdown_timeout_seconds"})}),(0,i.jsx)(s.td,{children:"5"}),(0,i.jsx)(s.td,{children:"Maximum duration (in seconds) that the slowdown mechanism is allowed to operate before further backpressure protection measures are taken."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"mqtt_deliverers_per_server"})}),(0,i.jsx)(s.td,{children:"CPU cores"}),(0,i.jsx)(s.td,{children:"Number of MQTT deliverers per server."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"persistent_session_detach_timeout_second"})}),(0,i.jsx)(s.td,{children:"7200"}),(0,i.jsx)(s.td,{children:"The timeout seconds to consider persistent session is probably detached from mqtt client."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"session_register_num"})}),(0,i.jsx)(s.td,{children:"10"}),(0,i.jsx)(s.td,{children:"Number of concurrent session registers."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"maxActiveDedupChannels"})}),(0,i.jsx)(s.td,{children:"1024"}),(0,i.jsx)(s.td,{children:"Maximum active deduplication channels per session."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"maxActiveDedupTopicsPerChannel"})}),(0,i.jsx)(s.td,{children:"10"}),(0,i.jsx)(s.td,{children:"Maximum active deduplication topics per channel."})]})]})]})]})}function h(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}}}]);